<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>竞技</title>
		<link rel="stylesheet" href="css/comment.css" type="text/css" />
		<link rel="stylesheet" href="css/sports.css" type="text/css" />
		<script src="js/jquery-1.11.0.js"></script>
		<script type="text/javascript" src="js/aa.js"></script>
	</head>

	<body>
		<div class="header_wra">
			<div class="header">
				<div class="log"><img src="img/log_top.png" /></div>
				<ul>
					<li>
						<a href="index.html">官网首页</a><img src="img/shake.png" /></li>
					<li>
						<a href="about.html">关于豹猫</a><img src="img/shake.png" /></li>
					<li>
						<a href="consult.html">豹猫资讯</a><img src="img/shake.png" /></li>
					<li>
						<a href="produce.html">豹猫出品</a><img src="img/shake.png" /></li>
					<li  class="cread">
						<a href="sports.html">豹猫竞技</a><img src="img/shake.png" /></li>
					<li>
						<a href="index.html">充值</a><img src="img/shake.png" /></li>
				</ul>
			</div>
		</div>
		<div class="container">
			<div id="container">
					
					<ul class="col"></ul>
					<ul class="col"></ul>
					<ul class="col"></ul>
					<ul class="col" style="margin-right:0"></ul>
					<a href="javascript:;" class="loadMeinvMOre" id="loadMeinvMOre">加载更多</a>
			</div>
		</div>

		<div class="footer">
			<div class="fonnter_ce">
				<img src="img/log_btm.png" class="lg_btm" />
				<div class="btm_r">
					<p><span>海南博汇融通网络竞技游戏有限公司版权所有</span><em>  2008-2017YUE-CHAIN - All Rights Reserved</em></p>
					<p>增值电信业务经营许可证：琼B2-20170001 网络文化经营许可证：琼网文【2016】32149-027号</p>
					<p><img src="img/police.png" class="police" /><span>琼ICP备16001821号 </span></p>
				</div>
			</div>
		</div>
		<div class="maskOut">
			<div class="mask">
				<div class="maskIn"></div>
			</div>
		</div>
	</body>
	
	
</html>
<script>
	/*遮罩*/
	$('.col').on("click","img",function(){
		var index = $('.water_pic img').index($(this));
		var a = $('.water_pic a').eq(index).html();
		$('.maskOut').show();
		$('.maskIn').append(a);
		$('.maskIn img').css({"width":"100%","height":"100%"});
	})
	
	$('.maskOut').click(function(){
		$('.maskOut').hide();
		$('.maskIn').html('');
	})
	
	$(".banner_rigth li").on("click", function() {
		$(".banner_rigth li").removeClass("cread");
		$(this).addClass("cread")
	})
	$(".nav li").on("click", function() {
		$(".nav li").removeClass("cread");
		$(this).addClass("cread")
	})

	$(function() {

	//url data function dataType

	function loadMeinv() {

		var data = [
					{'src':'1.png','title':'豹猫德州',"span":"竞技",'jia':'jiah.png'},
					{'src':'2.png','title':'豹猫捕鱼',"span":"竞技|休闲",'jia':'jiah.png'},
					{'src':'3.png','title':'赛事规则',"span":"竞技",'jia':'jiah.png'},
					{'src':'4.png','title':'回归好礼',"span":"竞技",'jia':'jiah.png'},
					{'src':'5.png','title':'年度发布会',"span":"活动",'jia':'jiah.png'},
					{'src':'6.png','title':'捕鱼活动',"span":"竞技|休闲",'jia':'jiah.png'},
					{'src':'7.png','title':'赛事现场',"span":"竞技",'jia':'jiah.png'},
					{'src':'8.png','title':'手游决战',"span":"竞技",'jia':'jiah.png'},
					{'src':'9.png','title':'贺岁杯德州',"span":"活动",'jia':'jiah.png'},
					{'src':'10.png','title':'赛事现场',"span":"竞技",'jia':'jiah.png'},
					{'src':'11.png','title':'赛事现场',"span":"竞技",'jia':'jiah.png'}
					
				];

		for (var i = 0; i < 16; i++) {//每次加载时模拟随机加载图片

			var a = parseInt(Math.random() * 10);
		

			var html = "";

			html = '<li><div class="water_pic"><a href="#"><img src = img/'

				+ data[a].src + '></a></div><div class="water_option"><div class="water_user">'+data[a].title+'</div><a href="" class="option_item">'+data[a].span+'</a> <span class="split"><img src = img/'

				+ data[a].jia + '></span></div></div></li>';

			$minUl = getMinUl();

			$minUl.append(html);

		}

	}

	loadMeinv();

	//无限加载

	$(window).on("scroll", function() {

		$minUl = getMinUl();

		if ($minUl.height() <= $(window).scrollTop() + $(window).height()) {

			//当最短的ul的高度比窗口滚出去的高度+浏览器高度大时加载新图片

			//loadMeinv();//加载新图片

		}

	})

	function getMinUl() {//每次获取最短的ul,将图片放到其后

		var $arrUl = $("#container .col");

		var $minUl = $arrUl.eq(0);
		console.log($minUl);

		$arrUl.each(function(index, elem) {

			if ($(elem).height() < $minUl.height()) {

				$minUl = $(elem);

			}

		});

		return $minUl;

	}

	//点击更多加载

	$("#loadMeinvMOre").click(function() {

		$minUl = getMinUl();

		loadMeinv();
		

	});

	

})
</script>
   